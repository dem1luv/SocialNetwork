(this["webpackJsonp03-social-network"]=this["webpackJsonp03-social-network"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports={settingsContent:"SettingsContentProfile_settingsContent__v-BJH",item:"SettingsContentProfile_item__tXvNr",buttonAddIntro:"SettingsContentProfile_buttonAddIntro__3Q53x",buttonSaveChanges:"SettingsContentProfile_buttonSaveChanges__3MvIQ"}},function(e,t,n){e.exports={aside:"SidebarLeft_aside__8-4qE",active:"SidebarLeft_active__oTnY-"}},function(e,t,n){e.exports={profileIntro:"ProfileIntro_profileIntro__AQeCM",noInfo:"ProfileIntro_noInfo__3mYMg",contacts:"ProfileIntro_contacts__1AXRQ"}},function(e,t,n){e.exports={item:"Post_item__2moPk",head:"Post_head__2heKm",ava:"Post_ava__3D5wP",nameDate:"Post_nameDate__VYXH_",text:"Post_text__DxdpT",stat:"Post_stat__3py6A"}},function(e,t,n){e.exports={header:"Header_header__2epVt",userMenu:"Header_userMenu__FRhJb",ava:"Header_ava__1FxJc",arrow:"Header_arrow__3q4uE",userMenuNav:"Header_userMenuNav__1hrIj",logInLink:"Header_logInLink__1EC9G"}},function(e,t,n){e.exports={usersContent:"Users_usersContent__1aCNE",paginationList:"Users_paginationList__2l_9e",paginationButton:"Users_paginationButton__1748L",current:"Users_current__2vZ4_",usersList:"Users_usersList__9gz4g"}},,,function(e,t,n){e.exports={profileInfo:"ProfileInfo_profileInfo__1gRAx",background:"ProfileInfo_background__1O1JO",ava:"ProfileInfo_ava__13Lzy",name:"ProfileInfo_name__2rSKo",location:"ProfileInfo_location__3tYmw"}},,,,,function(e,t,n){e.exports={profilePosts:"ProfilePosts_profilePosts__1_2iD",addPostContainer:"ProfilePosts_addPostContainer__3Fvda",postsContainer:"ProfilePosts_postsContainer__jkUjO"}},function(e,t,n){e.exports={settingsNavbar:"SettingsNavbar_settingsNavbar__1mS_F",active:"SettingsNavbar_active__2eT72"}},,,function(e,t,n){e.exports=n.p+"static/media/unlikedHeart.f6108e34.svg"},,,,,,,,,,,function(e,t,n){e.exports={profile:"Profile_profile__3ENS9"}},function(e,t,n){e.exports={ldsEllipsis:"Preloader_ldsEllipsis__1h77T",ldsEllipsis1:"Preloader_ldsEllipsis1__22fBW",ldsEllipsis2:"Preloader_ldsEllipsis2__3s_Wj",ldsEllipsis3:"Preloader_ldsEllipsis3__zaS4d"}},function(e,t,n){e.exports=n.p+"static/media/likedHeart.47b57fcc.svg"},,,function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports={settings:"Settings_settings__hpFvM"}},function(e,t,n){e.exports={settingsContent:"SettingsContent_settingsContent__3UmXE"}},function(e,t,n){e.exports={intro:"SettingsContentProfileIntro_intro__gXFCP"}},function(e,t,n){},function(e,t,n){e.exports={news:"News_news__Yt4aZ"}},function(e,t,n){e.exports=n.p+"static/media/arrowDown.a3396931.svg"},function(e,t,n){e.exports={user:"User_user__ima9h"}},,function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),s=n.n(o),i=(n(64),n(2)),c=n(3),l=n(5),u=n(4),p=(n(65),n(66),n(7)),m=n(9),h=n(44),d=n.n(h),g=n(45),f=n.n(g),E=function(e){return r.a.createElement("div",{className:f.a.ldsEllipsis},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},b=n(8),v=n(24),O=n.n(v),C=function(e){var t=e.largePhoto?e.largePhoto:"https://p.kindpng.com/picc/s/78-785827_user-profile-avatar-login-account-male-user-icon.png";return r.a.createElement("div",{className:O.a.profileInfo},r.a.createElement("div",{className:O.a.background,style:{backgroundImage:"url("+t+")"}},r.a.createElement("div",null)),r.a.createElement("div",{className:O.a.ava},r.a.createElement("img",{src:t,alt:""})),r.a.createElement("div",{className:O.a.name},e.fullName))},j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(C,this.props)}}]),n}(r.a.Component),_=Object(b.b)((function(e){var t,n,a;return{largePhoto:null===(t=e.profilePage.userProfile)||void 0===t||null===(n=t.photos)||void 0===n?void 0:n.large,fullName:null===(a=e.profilePage.userProfile)||void 0===a?void 0:a.fullName}}),{})(j),y=n(18),N=n.n(y),k=function(e){var t=[];return e.contacts&&Object.keys(e.contacts).forEach((function(n){null!==e.contacts[n]&&t.push(r.a.createElement("li",null,n,": ",e.contacts[n]))})),r.a.createElement("div",{className:N.a.profileIntro},r.a.createElement("h2",null,"Profile Info"),e.lookingForAJob?r.a.createElement("div",{className:N.a.item},r.a.createElement("h3",null,"Looking for a job"),r.a.createElement("h4",null,e.lookingForAJob),r.a.createElement("p",null,e.lookingForAJobDescription)):null,e.aboutMe?r.a.createElement("div",{className:N.a.item},r.a.createElement("h3",null,"About me"),r.a.createElement("p",null,e.aboutMe)):null,t.length>0?r.a.createElement("div",{className:N.a.item},r.a.createElement("h3",null,"Contacts"),r.a.createElement("p",null,r.a.createElement("ul",{className:N.a.contacts},t))):null,e.aboutMe||e.lookingForAJob||0!==t.length?null:r.a.createElement("p",{className:N.a.noInfo},"There's no info \ud83d\ude14"))},I=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(k,this.props)}}]),n}(r.a.Component),U=Object(b.b)((function(e){return{aboutMe:e.profilePage.userProfile.aboutMe,lookingForAJob:e.profilePage.userProfile.lookingForAJob,lookingForAJobDescription:e.profilePage.userProfile.lookingForAJobDescription,contacts:e.profilePage.userProfile.contacts}}),{})(I),P=n(29),D=n.n(P),T=n(19),w=n.n(T),x=n(46),L=n.n(x),A=n(33),S=n.n(A),F=function(e){var t=e.post.user.photos.small?e.post.user.photos.small:"https://p.kindpng.com/picc/s/78-785827_user-profile-avatar-login-account-male-user-icon.png";return r.a.createElement("div",{className:w.a.item},r.a.createElement("div",{className:w.a.head},r.a.createElement("div",{className:w.a.ava},r.a.createElement(p.b,{to:"/profile/".concat(e.post.user.id)},r.a.createElement("img",{src:t,alt:""}))),r.a.createElement("div",{className:w.a.nameDate},r.a.createElement("div",null,r.a.createElement(p.b,{to:"/profile/".concat(e.post.user.id)},e.post.user.name)),r.a.createElement("div",null,e.post.date))),r.a.createElement("div",{className:w.a.text},e.post.text),r.a.createElement("div",{className:w.a.stat},e.isLoggedIn?r.a.createElement(r.a.Fragment,null,e.post.liked?r.a.createElement("button",{onClick:function(){e.onDoUnlike(e.post.id)}},r.a.createElement("img",{src:L.a,alt:""})):r.a.createElement("button",{onClick:function(){e.onDoLike(e.post.id)}},r.a.createElement("img",{src:S.a,alt:""}))," "):r.a.createElement(p.b,{to:"/login"},r.a.createElement("img",{src:S.a,alt:""})),r.a.createElement("span",null,e.post.likesCount)))},G=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).textareaElement=r.a.createRef(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.textareaElement.current&&(this.textareaElement.current.style.height="33px",this.textareaElement.current.style.height=this.textareaElement.current.scrollHeight+"px")}},{key:"onAddPost",value:function(){this.textareaElement.current.style.height="33px",this.props.onAddPost()}},{key:"onChangeInput",value:function(e){e.target.style.height="33px",e.target.style.height=e.target.scrollHeight+"px",this.props.onChangeInput(e.target.value)}},{key:"render",value:function(){var e=this,t=this.props.currentUser.photos.small?this.props.currentUser.photos.small:"https://p.kindpng.com/picc/s/78-785827_user-profile-avatar-login-account-male-user-icon.png";return r.a.createElement("div",{className:D.a.profilePosts},this.props.currentUser.isLoggedIn?r.a.createElement("div",{className:D.a.addPostContainer},r.a.createElement("img",{src:t,alt:""}),r.a.createElement("textarea",{type:"text",value:this.props.textInput,onChange:this.onChangeInput.bind(this),placeholder:"Hey, what's up?",ref:this.textareaElement}),r.a.createElement("button",{onClick:this.onAddPost.bind(this)},"Post")):null,r.a.createElement("div",{className:D.a.postsContainer},this.props.posts.map((function(t){return r.a.createElement(F,{key:t.id,post:t,onDoLike:e.props.onDoLike,onDoUnlike:e.props.onDoUnlike,isLoggedIn:e.props.currentUser.isLoggedIn})}))))}}]),n}(r.a.Component),R=n(11),H=n(1),M=n(48),B=n.n(M).a.create({headers:{"API-KEY":"ba3b16ba-c3a0-404f-acd8-1f2bd9f7b405"},baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0}),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return B.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},K=function(e){return B.get("profile/".concat(e)).then((function(e){return e.data}))},Y=function(){return B.get("auth/me").then((function(e){return e.data}))},z={posts:[{id:0,text:"Hey, people, here's my first post!",date:"28.05.2020, 17:25:09",liked:!1,likesCount:0,user:{id:0,photos:{small:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg",large:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg"},name:"Test User"}}],textInput:"",userProfile:{},isFetching:!0},X=function(e){return{type:"SET_USER_PROFILE",userProfile:e}},V=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(H.a)(Object(H.a)({},e),{},{posts:[{id:0===e.posts.length?0:e.posts[0].id+1,text:e.textInput,date:(new Date).toLocaleString(),liked:!1,likesCount:0,user:Object(H.a)({},t.currentUser)}].concat(Object(R.a)(e.posts)),textInput:""});case"CHANGE-INPUT":return Object(H.a)(Object(H.a)({},e),{},{textInput:t.text});case"DO-LIKE":return Object(H.a)(Object(H.a)({},e),{},{posts:Object(R.a)(e.posts.map((function(e){return e.id===t.postId&&(e.liked=!0,e.likesCount++),e})))});case"DO-UNLIKE":return Object(H.a)(Object(H.a)({},e),{},{posts:Object(R.a)(e.posts.map((function(e){return e.id===t.postId&&(e.liked=!1,e.likesCount--),e})))});case"SET_USER_PROFILE":return Object(H.a)(Object(H.a)({},e),{},{userProfile:t.userProfile});case"TOGGLE_FETCHING":return Object(H.a)(Object(H.a)({},e),{},{isFetching:t.isFetching});default:return e}},Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChangeInput=e.props.changeInput,e.onDoUnlike=e.props.doUnlike,e.onDoLike=e.props.doLike,e}return Object(c.a)(n,[{key:"onAddPost",value:function(){this.props.addPost(this.props.currentUser)}},{key:"render",value:function(){return r.a.createElement(G,{textInput:this.props.textInput,posts:this.props.posts,currentUser:this.props.currentUser,onAddPost:this.onAddPost.bind(this),onChangeInput:this.onChangeInput.bind(this),onDoUnlike:this.onDoUnlike.bind(this),onDoLike:this.onDoLike.bind(this)})}}]),n}(r.a.Component),q=Object(b.b)((function(e){return{textInput:e.profilePage.textInput,posts:e.profilePage.posts,currentUser:e.currentUser}}),{addPost:function(e){return{type:"ADD-POST",currentUser:e}},changeInput:function(e){return{type:"CHANGE-INPUT",text:e}},doLike:function(e){return{type:"DO-LIKE",postId:e}},doUnlike:function(e){return{type:"DO-UNLIKE",postId:e}}})(Q),Z=function(e){return r.a.createElement("div",{className:d.a.profile},e.isFetching?r.a.createElement(E,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement(U,null),r.a.createElement(q,null)))},$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUserProfile(this.props.match.params.userId)}},{key:"render",value:function(){return r.a.createElement(Z,{isFetching:this.props.isFetching})}}]),n}(r.a.Component),ee=Object(m.e)($),te=Object(b.b)((function(e){return{isFetching:e.profilePage.isFetching}}),{toggleFetching:V,setUserProfile:X,getUserProfile:function(e){return function(t){t(V(!0)),K(e).then((function(e){t(X(e)),t(V(!1))}))}}})(ee),ne=n(49),ae=n.n(ne),re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:ae.a.header},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("span",null,r.a.createElement(m.a,{path:"/profile",render:function(){return"Profile"}}),r.a.createElement(m.a,{path:"/music",render:function(){return"Music"}}),r.a.createElement(m.a,{path:"/news",render:function(){return"News"}}),r.a.createElement(m.a,{path:"/users",render:function(){return"Users"}}),r.a.createElement(m.a,{path:"/messages",render:function(){return"Messages"}}),r.a.createElement(m.a,{path:"/settings",render:function(){return"Settings"}})))}}]),n}(r.a.Component),oe=n(50),se=n.n(oe),ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("header",{className:se.a.header},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("span",null,r.a.createElement(m.a,{path:"/profile",render:function(){return"Profile"}}),r.a.createElement(m.a,{path:"/music",render:function(){return"Music"}}),r.a.createElement(m.a,{path:"/news",render:function(){return"News"}}),r.a.createElement(m.a,{path:"/users",render:function(){return"Users"}}),r.a.createElement(m.a,{path:"/messages",render:function(){return"Messages"}}),r.a.createElement(m.a,{path:"/settings",render:function(){return"Settings"}})))}}]),n}(r.a.Component),ce=n(51),le=n.n(ce),ue=n(30),pe=n.n(ue),me=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:pe.a.settingsNavbar},r.a.createElement("h2",null,"Settings"),r.a.createElement("nav",null,r.a.createElement(p.b,{to:"/settings/profile",activeClassName:pe.a.active},"Profile"),r.a.createElement(p.b,{to:"/settings/general",activeClassName:pe.a.active},"General")))}}]),n}(r.a.Component),he=n(52),de=n.n(he),ge=n(16),fe=n.n(ge),Ee=n(53),be=n.n(Ee),ve=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"onChangeTitle",value:function(e){this.props.changeIntroTitle(this.props.intro.id,e.target.value)}},{key:"onChangeText",value:function(e){this.props.changeIntroText(this.props.intro.id,e.target.value)}},{key:"onDeleteIntro",value:function(){this.props.deleteIntro(this.props.intro.id)}},{key:"render",value:function(){return r.a.createElement("div",{className:be.a.intro},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"Title:"),r.a.createElement("input",{type:"text",value:this.props.intro.title,onChange:this.onChangeTitle.bind(this),placeholder:"Title"})),r.a.createElement("div",null,r.a.createElement("span",null,"Text:"),r.a.createElement("textarea",{value:this.props.intro.text,onChange:this.onChangeText.bind(this),placeholder:"Text"}))),r.a.createElement("button",{onClick:this.onDeleteIntro.bind(this)},"Delete"))}}]),n}(r.a.Component),Oe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){this.props.resetChanges()}},{key:"onChangeName",value:function(e){this.props.changeName(this.props.currentUser,e.target.value)}},{key:"onChangeAva",value:function(e){this.props.changeAva(this.props.currentUser,e.target.value)}},{key:"onChangeBg",value:function(e){this.props.changeBg(this.props.currentUser,e.target.value)}},{key:"onChangeCity",value:function(e){this.props.changeCity(this.props.currentUser,e.target.value)}},{key:"onChangeCountry",value:function(e){this.props.changeCountry(this.props.currentUser,e.target.value)}},{key:"onAddIntro",value:function(){this.props.addIntro()}},{key:"onSaveChanges",value:function(){this.props.saveChanges()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:fe.a.settingsContent},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("h2",null,"Profile Settings"),r.a.createElement("div",null,r.a.createElement("div",{className:fe.a.item},r.a.createElement("span",null,"Name:"),r.a.createElement("input",{type:"text",value:this.props.currentUser.newData.name,onChange:this.onChangeName.bind(this),placeholder:"Name"})),r.a.createElement("div",{className:fe.a.item},r.a.createElement("span",null,"Avatar (URL):"),r.a.createElement("input",{type:"text",value:this.props.currentUser.newData.avaUrl,onChange:this.onChangeAva.bind(this),placeholder:"Avatar URL"})),r.a.createElement("div",{className:fe.a.item},r.a.createElement("span",null,"Background (URL):"),r.a.createElement("input",{type:"text",value:this.props.currentUser.newData.bgUrl,onChange:this.onChangeBg.bind(this),placeholder:"Background URL"})),r.a.createElement("div",{className:fe.a.item},r.a.createElement("span",null,"City:"),r.a.createElement("input",{type:"text",value:this.props.currentUser.newData.city,onChange:this.onChangeCity.bind(this),placeholder:"City"})),r.a.createElement("div",{className:fe.a.item},r.a.createElement("span",null,"Country:"),r.a.createElement("input",{type:"text",value:this.props.currentUser.newData.country,onChange:this.onChangeCountry.bind(this),placeholder:"Country"}))),r.a.createElement("h3",null,"Intro"),r.a.createElement("div",null,r.a.createElement("div",null,this.props.currentUser.newData.intro.map((function(t){return r.a.createElement(ve,{key:t.id,intro:t,changeIntroTitle:e.props.changeIntroTitle,changeIntroText:e.props.changeIntroText,deleteIntro:e.props.deleteIntro})}))),r.a.createElement("button",{onClick:this.onAddIntro.bind(this),className:fe.a.buttonAddIntro},"Add Intro")),r.a.createElement("button",{onClick:this.onSaveChanges.bind(this),className:fe.a.buttonSaveChanges},"Save Changes"))}}]),n}(r.a.Component),Ce={data:{id:void 0,email:void 0,login:void 0},photos:{small:void 0,large:void 0},avaUrl:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg",bgUrl:"https://storge.pic2.me/cm/3200x1800/592/55fc5d8db7b39.jpg",name:"Dmitriy Demyanenko",city:"Sumy",country:"Ukraine",intro:[{id:0,title:"About me",text:"Frontend developer 16 y.o. \ud83d\ude09"},{id:1,title:"Favorite anime",text:"JoJo's Bizzare Adventure"}],newData:{avaUrl:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg",bgUrl:"https://storge.pic2.me/cm/3200x1800/592/55fc5d8db7b39.jpg",name:"Dmitriy Demyanenko",city:"Sumy",country:"Ukraine",intro:[{id:0,title:"About me",text:"Frontend developer 16 y.o. \ud83d\ude09"},{id:1,title:"Favorite anime",text:"JoJo's Bizzare Adventure"}]},isLoggedIn:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE-NAME":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{name:t.name})});case"CHANGE-AVA":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{avaUrl:t.avaUrl})});case"CHANGE-BG":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{bgUrl:t.bgUrl})});case"CHANGE-CITY":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{city:t.city})});case"CHANGE-COUNTRY":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{country:t.country})});case"LOG-OUT":return alert("ur logged out"),e;case"ADD-INTRO":return Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{intro:[].concat(Object(R.a)(e.newData.intro),[{id:0===e.newData.intro.length?0:e.newData.intro[e.newData.intro.length-1].id+1,title:"Title",text:"Text"}])})});case"CHANGE-INTRO-TITLE":var n=Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{intro:Object(R.a)(e.newData.intro)})}),a=0;return n.newData.intro.map((function(e){e.id===t.id&&(a=n.newData.intro.indexOf(e))})),n.newData.intro[a].title=t.title,n;case"CHANGE-INTRO-TEXT":var r=Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{intro:Object(R.a)(e.newData.intro)})}),o=0;return r.newData.intro.map((function(e){e.id===t.id&&(o=r.newData.intro.indexOf(e))})),r.newData.intro[o].text=t.text,r;case"DELETE-INTRO":var s=Object(H.a)(Object(H.a)({},e),{},{newData:Object(H.a)(Object(H.a)({},e.newData),{},{intro:Object(R.a)(e.newData.intro)})});return s.newData.intro=s.newData.intro.filter((function(e){return e.id!==t.id})),s;case"SAVE-CHANGES":return Object(H.a)(Object(H.a)(Object(H.a)({},e),e.newData),{},{intro:Object(R.a)(e.newData.intro)});case"RESET-CHANGES":return Object(H.a)(Object(H.a)({},e),{},{newData:{avaUrl:e.avaUrl,bgUrl:e.bgUrl,name:e.name,city:e.city,country:e.country,intro:Object(R.a)(e.intro)}});case"SET_CURRENT_USER":return Object(H.a)(Object(H.a)({},e),{},{data:t.data,photos:t.photos,isLoggedIn:!0});default:return e}},_e=Object(b.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{changeName:function(t,n){e(function(e,t){return{type:"CHANGE-NAME",user:e,name:t}}(t,n))},changeAva:function(t,n){e(function(e,t){return{type:"CHANGE-AVA",user:e,avaUrl:t}}(t,n))},changeBg:function(t,n){e(function(e,t){return{type:"CHANGE-BG",user:e,bgUrl:t}}(t,n))},changeCity:function(t,n){e(function(e,t){return{type:"CHANGE-CITY",user:e,city:t}}(t,n))},changeCountry:function(t,n){e(function(e,t){return{type:"CHANGE-COUNTRY",user:e,country:t}}(t,n))},addIntro:function(){e({type:"ADD-INTRO"})},changeIntroTitle:function(t,n){e(function(e,t){return{type:"CHANGE-INTRO-TITLE",id:e,title:t}}(t,n))},changeIntroText:function(t,n){e(function(e,t){return{type:"CHANGE-INTRO-TEXT",id:e,text:t}}(t,n))},deleteIntro:function(t){e(function(e){return{type:"DELETE-INTRO",id:e}}(t))},saveChanges:function(){e({type:"SAVE-CHANGES"})},resetChanges:function(){e({type:"RESET-CHANGES"})}}}))(Oe),ye=n(54),Ne=n.n(ye),ke=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:Ne.a.settingsContent},r.a.createElement("img",{src:"",alt:""}),r.a.createElement("span",null,r.a.createElement(m.a,{path:"/settings/profile",render:function(){return"Profile"}}),r.a.createElement(m.a,{path:"/settings/general",render:function(){return"SettingsContentGeneral"}})))}}]),n}(r.a.Component),Ie=Object(b.b)((function(e){return{currentUser:e.currentUser.user}}),(function(e){return{}}))(ke),Ue=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:de.a.settingsContent},r.a.createElement(m.a,{path:"/settings/profile",render:function(){return r.a.createElement(_e,null)}}),r.a.createElement(m.a,{path:"/settings/general",render:function(){return r.a.createElement(Ie,null)}}))}}]),n}(r.a.Component),Pe=Object(b.b)((function(e){return{currentUser:e.currentUser}}),(function(e){return{}}))(Ue),De=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:le.a.settings},r.a.createElement(Pe,null),r.a.createElement(me,null))}}]),n}(r.a.Component),Te=n(55),we=n.n(Te),xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:we.a.news},this.props.posts.map((function(t){return r.a.createElement(F,{post:t,doLike:e.props.doLike,doUnlike:e.props.doUnlike})})))}}]),n}(r.a.Component),Le={posts:[{id:0,text:"Hey, people, here's my first post!",date:"28.05.2020, 17:25:09",liked:!1,likesCount:0,user:{id:0,photos:{small:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg",large:"https://hypeava.ru/uploads/posts/2020-03/1583012706_5.jpg"},name:"Test User"}}]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DO-LIKE":return Object(H.a)(Object(H.a)({},e),{},{posts:Object(R.a)(e.posts.map((function(e){return e.id===t.postId&&(e.liked=!0,e.likesCount++),e})))});case"DO-UNLIKE":return Object(H.a)(Object(H.a)({},e),{},{posts:Object(R.a)(e.posts.map((function(e){return e.id===t.postId&&(e.liked=!1,e.likesCount--),e})))});default:return e}},Se=Object(b.b)((function(e){return{posts:e.newsPage.posts}}),(function(e){return{doLike:function(t){e(function(e){return{type:"DO-LIKE",postId:e}}(t))},doUnlike:function(t){e(function(e){return{type:"DO-UNLIKE",postId:e}}(t))}}}))(xe),Fe=n(17),Ge=n.n(Fe),Re=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("aside",{className:Ge.a.aside},r.a.createElement("nav",null,r.a.createElement(p.b,{to:this.props.isLoggedIn?"/profile/".concat(this.props.userId):"/login",activeClassName:this.props.isLoggedIn?Ge.a.active:""},"Profile"),r.a.createElement(p.b,{to:"/news",activeClassName:Ge.a.active},"News"),r.a.createElement(p.b,{to:this.props.isLoggedIn?"/messages":"/login",activeClassName:this.props.isLoggedIn?Ge.a.active:""},"Messages"),r.a.createElement(p.b,{to:"/music",activeClassName:Ge.a.active},"Music"),r.a.createElement(p.b,{to:"/users",activeClassName:Ge.a.active},"Users"),r.a.createElement(p.b,{to:this.props.isLoggedIn?"/settings/profile":"/login",activeClassName:this.props.isLoggedIn?Ge.a.active:""},"Settings")))}}]),n}(r.a.Component),He=Object(b.b)((function(e){return{userId:e.currentUser.data.id,isLoggedIn:e.currentUser.isLoggedIn}}),(function(){return{}}))(Re),Me=n(20),Be=n.n(Me),Je=n(56),Ke=n.n(Je),Ye=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).userMenuNavElement=r.a.createRef(),a.props.getCurrentUser(),a}return Object(c.a)(n,[{key:"toggleUserMenuNav",value:function(){this.userMenuNavElement.current.style.display="block"===this.userMenuNavElement.current.style.display?"none":"block"}},{key:"render",value:function(){var e=this.props.user.photos.small?this.props.user.photos.small:"https://p.kindpng.com/picc/s/78-785827_user-profile-avatar-login-account-male-user-icon.png";return r.a.createElement("header",{className:Be.a.header},this.props.user.isLoggedIn?r.a.createElement("button",{className:Be.a.userMenu,onClick:this.toggleUserMenuNav.bind(this)},r.a.createElement("img",{className:Be.a.ava,src:e,alt:""}),r.a.createElement("span",null,this.props.user.name),r.a.createElement("img",{className:Be.a.arrow,src:Ke.a,alt:""}),r.a.createElement("div",{className:Be.a.userMenuNav,ref:this.userMenuNavElement},r.a.createElement(p.b,{to:"/profile/".concat(this.props.user.id)},"Profile"),r.a.createElement(p.b,{to:"/settings/profile"},"Settings"),r.a.createElement("button",{onClick:this.props.logOut},"Log Out"))):r.a.createElement(p.b,{to:"/login",className:Be.a.logInLink},"Log In"))}}]),n}(r.a.Component),ze=Object(b.b)((function(e){return{user:e.currentUser}}),{logOut:function(){return{type:"LOG-OUT"}},getCurrentUser:function(){return function(e){Y().then((function(t){K(t.data.id).then((function(n){var a,r;e((a=t.data,r=n.photos,{type:"SET_CURRENT_USER",data:a,photos:r}))}))}))}}})(Ye),Xe=n(21),Ve=n.n(Xe),We=n(57),Qe=n.n(We),qe=function(e){var t,n=e.photo?e.photo:"https://p.kindpng.com/picc/s/78-785827_user-profile-avatar-login-account-male-user-icon.png";return t=e.isLoggedIn?e.followed?r.a.createElement("button",null,"Unfollow"):r.a.createElement("button",null,"Follow"):r.a.createElement("button",null,r.a.createElement(p.b,{to:"/login"},"Follow")),r.a.createElement("div",{className:Qe.a.user},r.a.createElement(p.b,{to:"/profile/"+e.id},r.a.createElement("img",{src:n,alt:""}),r.a.createElement("h4",null,e.name)),t)},Ze=function(e){var t=Math.ceil(e.usersTotalCount/e.usersCount);t>20&&(t=20);for(var n=[],a=function(t){t===e.currentPage?n.push(r.a.createElement("button",{className:Ve.a.paginationButton+" "+Ve.a.current,onClick:function(){e.onSetCurrentPage(t)}},t)):n.push(r.a.createElement("button",{className:Ve.a.paginationButton,onClick:function(){e.onSetCurrentPage(t)}},t))},o=1;o<=t;o++)a(o);var s=e.users.map((function(t){return r.a.createElement(qe,{key:t.id,id:t.id,name:t.name,photo:t.photos.small,followed:t.followed,isLoggedIn:e.isLoggedIn})}));return r.a.createElement("div",{className:Ve.a.usersContent},e.isFetching?r.a.createElement(E,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ve.a.paginationList},n),r.a.createElement("div",{className:Ve.a.usersList},s)))},$e={users:[],usersTotalCount:0,usersCount:12,currentPage:1,isFetching:!0},et=function(e){return{type:"SET-USERS",users:e}},tt=function(e){return{type:"SET_USERS_TOTAL_COUNT",usersTotalCount:e}},nt=function(e){return{type:"SET_CURRENT_PAGE",page:e}},at=function(e){return{type:"TOGGLE_FETCHING",isFetching:e}},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-USERS":return Object(H.a)(Object(H.a)({},e),{},{users:t.users});case"SET_USERS_TOTAL_COUNT":return Object(H.a)(Object(H.a)({},e),{},{usersTotalCount:t.usersTotalCount});case"SET_CURRENT_PAGE":return Object(H.a)(Object(H.a)({},e),{},{currentPage:t.page});case"TOGGLE_FETCHING":return Object(H.a)(Object(H.a)({},e),{},{isFetching:t.isFetching});default:return e}},ot=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(1,this.props.usersCount)}},{key:"onSetCurrentPage",value:function(e){this.props.getUsers(e,this.props.usersCount)}},{key:"render",value:function(){return r.a.createElement(Ze,{usersTotalCount:this.props.usersTotalCount,usersCount:this.props.usersCount,currentPage:this.props.currentPage,users:this.props.users,isFetching:this.props.isFetching,onSetCurrentPage:this.onSetCurrentPage.bind(this)})}}]),n}(r.a.Component),st=Object(b.b)((function(e){return{users:e.usersPage.users,usersTotalCount:e.usersPage.usersTotalCount,usersCount:e.usersPage.usersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,isLoggedIn:e.currentUser.isLoggedIn}}),{setUsers:et,setUsersTotalCount:tt,setCurrentPage:nt,toggleFetching:at,getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(n){n(at(!0)),J(e,t).then((function(t){n(at(!1)),n(et(t.items)),n(tt(t.totalCount)),n(nt(e))})).catch((function(){return n(at(!1))}))}}})(ot),it=function(){return r.a.createElement("h2",null,"LogIn page has to be here. Will be available in November 5 \ud83d\ude09")},ct=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(ze,null),r.a.createElement(He,null),r.a.createElement("main",{className:"content"},r.a.createElement(m.a,{path:"/profile/:userId",component:te}),r.a.createElement(m.a,{path:"/news",component:Se}),r.a.createElement(m.a,{path:"/messages",component:re}),r.a.createElement(m.a,{path:"/music",component:ie}),r.a.createElement(m.a,{path:"/users",component:st}),r.a.createElement(m.a,{path:"/settings",component:De}),r.a.createElement(m.a,{path:"/login",component:it}))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=n(31),ut=n(58),pt=Object(lt.b)({profilePage:W,newsPage:Ae,currentUser:je,usersPage:rt}),mt=Object(lt.c)(pt,Object(lt.a)(ut.a));window.store=mt;var ht=mt;s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,{store:ht},r.a.createElement(ct,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[59,1,2]]]);
//# sourceMappingURL=main.2d0486ce.chunk.js.map